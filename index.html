<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Cache-control" content="no-cache">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.1/vis.min.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<!--<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">-->
	<link rel="stylesheet" href="./bootstrap.css">
	
	<style>
		.waiting {
			cursor: wait !important;
		}
		
		ul {
			list-style-type: none;
			margin: 0;
			padding: 0;
			overflow: hidden;
			background-color: #333;
		}
		
		li {
			float: left;
		}
		
		div#nav-tabs li a {
			display: inline-block;
			color: white;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
		}
		
		div#nav-tabs li a:hover:not(.active) {
			background-color: #111;
		}
		
		div#nav-tabs li.ui-tabs-active {
			background-color: #4CAF50;
		}
		
		li p {
			display: inline-block;
			color: white;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
		}
		
		li img {
			display: inline-block;
			color: white;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
		}
		
		table {
			border: 1px solid white;
			width:100%;
		}
		
		th, td {
			text-align: center;
			border-bottom: 1px solid gray;
		}
		
		tbody > tr:nth-child(even) {
			background-color: #3a3f44;
		}

		tbody > tr:nth-child(odd) {
			background-color: #484e55;
		}
		
		tbody > td:first-child {
			border-right: 1px;
		}
		
		tbody > td:not(first-child) {
			border-left: 1px;
		}
		
		th:hover {
			background-color: #111;
		}
		
		.dynamic-content {
			display: none;
		}
		
		.row {
			display: flex;
			flex: 100%;
			margin: 0%;
		}
		
		.sidebar {
			flex: 12%;
		}
		
		.column {
			flex: 32%;
			text-align: center;
		}
		
		.center-content {
			flex: 76%;
			text-align: center;
		}
		
		.titles {
			text-align: center;
		}
		.form-control {
			width: 100%;
			text-align: center;
		}
		
		/* Style the button that is used to open and close the collapsible content */
		.collapsible {
			background-color: #eee;
			color: #444;
			cursor: pointer;
			padding: 18px;
			width: 100%;
			border: none;
			text-align: left;
			outline: none;
			font-size: 15px;
		}
		
		/* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
		.collapsible:hover {
			background-color: #ccc;
		}
		.collapsible:after {
			content: '\02795'; /* Unicode character for "plus" sign (+) */
			font-size: 13px;
			color: white;
			float: right;
			margin-left: 5px;
		}
		
		.active:after {
			content: "\2796"; /* Unicode character for "minus" sign (-) */
		}
		
		/* Style the collapsible content. Note: hidden by default */
		.content {
			padding: 0 4px;
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.2s ease-out;
		}
		
		#please-login {
			text-align: center;
			position: absolute;
			width: 300px;
			height: 100px;
			z-index: 15;
			top: 50%;
			left: 50%;
			margin: -100px 0 0 -150px;
		}
		
		#contextmenu {
			display: none;
			position: fixed;
			background: #fff;
			color: #555;
			font-family: sans-serif;
			font-size: 11px;
			-webkit-transition: opacity .5s ease-in-out;
			-moz-transition: opacity .5s ease-in-out;
			-ms-transition: opacity .5s ease-in-out;
			-o-transition: opacity .5s ease-in-out;
			transition: opacity .5s ease-in-out;
			-webkit-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);
			-moz-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);
			box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);
			padding: 0px;
			border: 1px solid #C6C6C6;
			z-index: 10000;
		}
		#contextmenu a {
			display: block;
			color: #555;
			text-decoration: none;
			padding: 6px 8px 6px 30px;
			width: 250px;
			position: relative;
		}
		#contextmenu a img,
		#contextmenu a i.fa {
			height: 20px;
			font-size: 17px;
			width: 20px;
			position: absolute;
			left: 5px;
			top: 2px;
		}
		#contextmenu a span {
			color: #BCB1B3;
			float: right;
		}
		#contextmenu a:hover {
			color: #fff;
			background: #3879D9;
		}

		#menu hr {
			border: 1px solid #EBEBEB;
			border-bottom: 0;
		}
		
		.tool-tip {
			position: relative;
			display: inline;
		}
		.tool-tip .tool-tip-text {
			visibility: hidden;
			width: 450px;
			word-break: break-all;
			color: white;
			text-align: center;
			border-radius: 6px;
			padding: 0 5px;
			position: absolute;
			z-index: 100;
			bottom: 150%;
			left: 50%;
			margin-left: -60px;
			background-color:rgb(128, 128, 128);
			border:2px solid black;
		}
		.tool-tip:hover .tool-tip-text {
			visibility: visible;
		}
	</style>
</head>
<body>
	<ul id="header-bar">
		<li style="float:left"><img src="./imgs/FEDUP text.png" style="width:150px"></img></li>
		<li style="float:left"><img id="corp-logo" class="dynamic-content" src="" style="width:68px"></img></li>
		<!--<li style="float:left"><p style="text-align:center" id="server-status">Server status: Unknown --- Players online: Unknown</p></li>-->
		<li style="float:right">
			<div id="as" class="dynamic-content">
				<img src=""></img>
				<a id="logged-name">Logged in as: No one</a>
				<a id="timer">...</a>
				<button id="logout" style="color:black">Log out</button>
			</div>
		</li>
		<li style="float:right">
			<!--<a id="login" class="dynamic-content" href="https://login.eveonline.com/oauth/authorize?response_type=token&redirect_uri=http://localhost:50100/index.html?callback&client_id=84ed1a053f504e64ac888e84cf0082cd&scope=esi-corporations.read_corporation_membership.v1 esi-characters.read_corporation_roles.v1 esi-corporations.track_members.v1 esi-corporations.read_titles.v1 esi-corporations.read_fw_stats.v1&state=membertracker">
				<img src="https://web.ccpgamescdn.com/eveonlineassets/developers/eve-sso-login-white-small.png"></img>
			</a>-->
			<a id="login" class="dynamic-content" href="https://login.eveonline.com/oauth/authorize?response_type=token&redirect_uri=https://perdog.github.io/FEDUP-Member-Activity/index.html?callback&client_id=d39d34e683aa48c2b535b099c3dc404a&scope=publicData esi-corporations.read_corporation_membership.v1 esi-characters.read_corporation_roles.v1 esi-corporations.track_members.v1 esi-corporations.read_titles.v1 esi-corporations.read_fw_stats.v1&state=membertracker">
				<img src="https://web.ccpgamescdn.com/eveonlineassets/developers/eve-sso-login-white-small.png"></img>
			</a>
		</li>
	</ul>
		
	<div id="please-login" class="dynamic-content">
		<img src="./imgs/FEDUP logo.png" style="width:128px;height:128px"></img>
		<br />
		<a>
			Please log into your FEDUP toon. Your toon requires Director roles in order to properly utilize this tool.
		</a>
	</div>
	
	<br />
	
	<div id="logged-in" class="dynamic-content">
		<div class="row">
			<div class="sidebar"></div>
			
			<div class="center-content">
				<div class="row">
					<div class="column">
						<a id="limited-features" class="dynamic-content" style="text-align:center;color:yellow">Character logged in does not have Director roles. Some features of this site will not work.</a>
					</div>
				</div>
				
				<div class="row">
					<div class="row" id="nav-tabs">
						
						<div class="row">
							<div class="column">
								<ul>
									<li class="dynamic-content" id="purge-tab">
										<a href="#tabs-1">Purge</a>
									</li>
									<li id="activity-tab">
										<a href="#tabs-2">Killboard activity</a>
									</li>
								</ul>
							</div>
						</div>
						
						<div class="row">
							<div class="column" id="tabs-1">
								<table id="inactive-table">
									<thead>
										<tr>
											<th></th>
											<th>Name</th>
											<th>Auth</th>
											<th>Discord</th>
											<th>Main/Alt</th>
											<th>Joined</th>
											<th>Last online</th>
											<th>Offline for</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table>
							</div>
						
							<div class="column" id="tabs-2">
								<table id="killboard-activity">
									<thead>
										<tr>
											<th>Name</th>
											<th>Auth</th>
											<th>Discord</th>
											<th>Main/Alt</th>
											<th id="kbh-purge">Purge?</th>
											<th id="kbh-join">Join date</th>
											<th id="kbh-last">Last login</th>
											<th>All time kills in corp</th>
											<th>This month: Killes/Losses</th>
											<th>Last month: Killes/Losses</th>
											<th>Previous month: Killes/Losses</th>
										</tr>
									</thead>
									<tbody>
										
									</tbody>
								</table>
							</div>
						</div>
					</div>
					
				</div>
				
				<div class="row">
					<div class="column">
						<a id="low-participation" class="dynamic-content" style="text-align:center">Testing testing read all about it</a>
					</div>
				</div>
			</div>
			
			<div class="sidebar"></div>
		</div>
	</div>
	
	<div id="contextmenu">
		<a id="note-add" data-toggle="modal" data-target="#addNote-window">
			Add note
		</a>
		<a id="note-edit" data-toggle="modal" data-target="#addNote-window" onclick="loadNote()">
			Edit note
		</a>
		<a id="note-remove" onclick="removeNote()">
			Remove note
		</a>
		<hr>
		<a id="cm-reset" onclick="setColour('reset')">
			Reset
		</a>
		<a id="cm-green" onclick="setColour('green')">
			Green
		</a>
		<a id="cm-yellow" onclick="setColour('yellow')">
			Yellow
		</a>
		<a id="cm-red" onclick="setColour('red')">
			Red
		</a>
	</div>
	
	<div class="modal" id="addNote-window" tabindex="-1" role="dialog" aria-labelledby="addNote-window-label">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="addNote-window-label">Note</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body">
					<a id="toon-prefix">Add a note for </a><a id="toon-name"></a>
					<textarea class="form-control" placeholder="Enter note" id="toon-note"></textarea>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary settings-content" data-dismiss="modal" onclick="saveNote()">Save</button>
				</div>
			</div>
		</div>
	</div>
	
	<script>
	var coll = document.getElementsByClassName("collapsible");
	var i;

	for (i = 0; i < coll.length; i++) {
		coll[i].addEventListener("click", function() {
			this.classList.toggle("active");
			var content = this.nextElementSibling;
			if (content.style.maxHeight){
				content.style.maxHeight = null;
			} else {
				content.style.maxHeight = content.scrollHeight + "px";
			}
		});
	}
	</script>
	
	
	<!-- Latest compiled and minified JQuery -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
	<!-- Latest compiled and minified Bootstrap -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
	<script type="text/javascript" src="code.js"></script>
	<script type="text/javascript" src="./plugins/jquery.tablesorter.js"></script>
	
</body>

</html>
